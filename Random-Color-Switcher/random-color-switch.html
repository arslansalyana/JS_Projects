<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Color Switch</title>
</head>
<body>
    <div id="container">
        <h1>Random Color Switch</h1>
        <button id="start">Start</button>
        <button id="stop">Stop</button>
    </div>
    <script>
        //Randomly color switching function
        function randomColorGenerate(){
            let hexCode = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += hexCode[Math.floor(Math.random() * 16)];
            }
            return color;
        }
        let intervalId;
        function startChangingColor(){

            if (!intervalId){
                intervalId = setInterval(changeColor, 1000);
            }
            // const changeColor = () => {
            //     document.body.style.backgroundColor = randomColorGenerate();
            // }
             /* this will throw an error because the function which is declared as a first class citizen is 
            not hoisted, To fix this we can use the function declaration as a function expression as below 
            , also if we want the arrow function, we can declare it above the place where we are using it.*/

            function changeColor () {
                document.body.style.backgroundColor = randomColorGenerate();
            }
        };
        function stopChangingColor(){
            clearInterval(intervalId);
            intervalId = null;
        };

        document.getElementById("start").addEventListener("click", startChangingColor); 
        document.getElementById("stop").addEventListener("click", stopChangingColor); 
    </script>
</body>
</html>